{"ast":null,"code":"import axios from 'axios';\nexport const registerUser = user => async dispatch => {\n  dispatch({\n    type: 'USER_REGISTER_REQUEST'\n  });\n  try {\n    const res = await axios.post(\"/api/users/signup\", user);\n    console.log(res);\n    dispatch({\n      type: 'USER_REGISTER_SUCCESS'\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_REGISTER_FAILED',\n      payload: error\n    });\n  }\n};\nexport const loginUser = user => async dispatch => {\n  dispatch({\n    type: 'USER_LOGIN_REQUEST'\n  });\n  try {\n    const res = await axios.post(\"/api/users/signin\", user);\n    console.log(res);\n    dispatch({\n      type: 'USER_LOGIN_SUCCESS',\n      payload: res.data\n    });\n    localStorage.setItem(\"jwt\", res.data.token);\n    localStorage.setItem('currentUser', JSON.stringify(res.data));\n    window.location.href = \"/dashboard\";\n  } catch (error) {\n    dispatch({\n      type: 'USER_LOGIN_FAILED',\n      payload: error\n    });\n  }\n};\nexport const logoutUser = () => async dispatch => {\n  localStorage.removeItem('currentUser');\n  window.location.href = \"/\";\n};\nexport const userProfile = () => async (dispatch, getState) => {\n  dispatch({\n    type: \"USER_PROFILE_REQUEST\"\n  });\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n    }\n  };\n  try {\n    const response = await axios.get(`/api/users/profile`, config);\n    dispatch({\n      type: \"USER_PROFILE_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"USER_PROFILE_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const getAllStudent = () => async dispatch => {\n  dispatch({\n    type: 'GET_STUDENTS_REQUEST'\n  });\n  try {\n    const response = await axios.get('/api/users/allStudent');\n    dispatch({\n      type: 'GET_STUDENTS_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_STUDENTS_FAILED',\n      payload: error\n    });\n  }\n};\nexport const removeAStudent = postId => async dispatch => {\n  try {\n    await axios.post('/api/users/removeStudent', {\n      postId\n    });\n    const response2 = await axios.get(`/api/users/allStudent`);\n    dispatch({\n      type: 'GET_STUDENTS_SUCCESS',\n      payload: response2.data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["axios","registerUser","user","dispatch","type","res","post","console","log","error","payload","loginUser","data","localStorage","setItem","token","JSON","stringify","window","location","href","logoutUser","removeItem","userProfile","getState","config","headers","Authorization","getItem","response","get","getAllStudent","removeAStudent","postId","response2"],"sources":["C:/Users/peeyu/Downloads/-LIBRARY2-master/-LIBRARY2-master/client/src/actions/user_action.js"],"sourcesContent":["import axios from 'axios';\n\nexport const registerUser = (user) => async dispatch => {\n    dispatch({\n        type: 'USER_REGISTER_REQUEST'\n    })\n\n    try {\n        const res = await axios.post(\"/api/users/signup\", user);\n        console.log(res)\n        dispatch({\n            type: 'USER_REGISTER_SUCCESS'\n\n        })\n    } catch (error) {\n        dispatch({\n            type: 'USER_REGISTER_FAILED',\n            payload: error\n        })\n    }\n}\n\nexport const loginUser = (user) => async dispatch => {\n    dispatch({\n        type: 'USER_LOGIN_REQUEST'\n    })\n\n    try {\n        const res = await axios.post(\"/api/users/signin\", user);\n        console.log(res)\n        dispatch({\n            type: 'USER_LOGIN_SUCCESS',\n            payload: res.data\n        })\n        localStorage.setItem(\"jwt\", res.data.token);\n        localStorage.setItem('currentUser', JSON.stringify(res.data));\n        window.location.href = \"/dashboard\";\n    } catch (error) {\n        dispatch({\n            type: 'USER_LOGIN_FAILED',\n            payload: error\n        })\n    }\n}\n\n\nexport const logoutUser = () => async dispatch => {\n\n    localStorage.removeItem('currentUser');\n    window.location.href = \"/\";\n\n}\n\n\nexport const userProfile = () => async (dispatch, getState) => {\n    dispatch({\n        type: \"USER_PROFILE_REQUEST\"\n    });\n    const config = {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n    };\n\n    try {\n        const response = await axios.get(`/api/users/profile`, config);\n        dispatch({\n            type: \"USER_PROFILE_SUCCESS\",\n            payload: response.data,\n        });\n    } catch (error) {\n        dispatch({\n            type: \"USER_PROFILE_FAILED\",\n            payload: error,\n        });\n    }\n\n};\n\nexport const getAllStudent = ()=> async dispatch =>{\n    dispatch({\n        type:'GET_STUDENTS_REQUEST'\n    })\n    try {\n        const response = await axios.get('/api/users/allStudent');\n   \n        dispatch({\n           type:'GET_STUDENTS_SUCCESS',\n           payload:response.data\n       })\n    } catch (error) {\n       dispatch({\n           type:'GET_STUDENTS_FAILED',\n           payload:error\n       })\n    }\n}\n\nexport const removeAStudent = (postId)=> async dispatch =>{\n\n   \n \n    try {\n         await axios.post('/api/users/removeStudent',{postId});\n        const response2 = await axios.get(`/api/users/allStudent`);\n       \n        dispatch({\n            type:'GET_STUDENTS_SUCCESS',\n            payload:response2.data\n        })\n      } catch (error) {\n        console.log(error);\n      }\n  \n    \n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}