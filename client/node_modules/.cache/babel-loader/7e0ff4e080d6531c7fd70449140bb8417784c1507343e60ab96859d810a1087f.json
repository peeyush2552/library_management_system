{"ast":null,"code":"import axios from \"axios\";\nexport const issueABook = book => async dispatch => {\n  dispatch({\n    type: 'ISSUE_REQUEST'\n  });\n  try {\n    const response = await axios.post('/api/issues/issueRequest', book);\n    // const response2 = await axios.get('/api/books/allBook');\n\n    dispatch({\n      type: 'ISSUE_REQUEST_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'ISSUE_REQUEST_FAILED',\n      payload: error\n    });\n  }\n};\nexport const singleissueABook = postId => async dispatch => {\n  dispatch({\n    type: 'SINGLE_ISSUE_REQUEST'\n  });\n  try {\n    const response = await axios.post('/api/issues/singleIssuedBook', {\n      postId\n    });\n    dispatch({\n      type: 'SINGLE_ISSUE_REQUEST_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'SINGLE_ISSUE_REQUEST_FAILED',\n      payload: error\n    });\n  }\n};\nexport const getUserIssuedBook = () => async (dispatch, getState) => {\n  dispatch({\n    type: \"USER_ISSUED_BOOK\"\n  });\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n    }\n  };\n  try {\n    const response = await axios.get(`/api/issues/issuedBook`, config);\n    dispatch({\n      type: \"USER_ISSUED_BOOK_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"USER_ISSUED_BOOK_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const getAllIssuedBook = () => async dispatch => {\n  dispatch({\n    type: \"ALL_ISSUED_BOOK\"\n  });\n  try {\n    const response = await axios.get(`/api/issues/allIssuedBook`);\n    dispatch({\n      type: \"ALL_ISSUED_BOOK_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"ALL_ISSUED_BOOK_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const filterallIssuedBook = searchKey => async dispatch => {\n  var filterItem;\n  try {\n    const response = await axios.get('/api/issues/allIssuedBook');\n    filterItem = response.data.filter(item => item.userName.toLowerCase().includes(searchKey.toLowerCase()));\n    dispatch({\n      type: \"ALL_ISSUED_BOOK_SUCCESS\",\n      payload: filterItem\n    });\n  } catch (error) {\n    dispatch({\n      type: \"ALL_ISSUED_BOOK_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const getAllBookIssueReq = () => async dispatch => {\n  dispatch({\n    type: 'GET_All_ISSUES_REQUEST'\n  });\n  try {\n    const response = await axios.get('/api/issues/allIssueRequest');\n    dispatch({\n      type: 'GET_All_ISSUES_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_All_ISSUES_FAILED',\n      payload: error\n    });\n  }\n};\nexport const getAllBookReturnReq = () => async dispatch => {\n  dispatch({\n    type: 'GET_All_RETURN_REQUEST'\n  });\n  try {\n    const response = await axios.get('/api/issues/allreturnedBook');\n    dispatch({\n      type: 'GET_All_RETURN_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_All_RETURN_FAILED',\n      payload: error\n    });\n  }\n};\nexport const issuedReq = (bookId, postId) => async dispatch => {\n  try {\n    await axios.post('/api/issues/issuedReqAccept', {\n      bookId,\n      postId\n    });\n    const response2 = await axios.get('/api/issues/allIssueRequest');\n    dispatch({\n      type: 'GET_All_ISSUES_SUCCESS',\n      payload: response2.data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const returnReqAction = obj => async dispatch => {\n  try {\n    await axios.post('/api/issues/returnReq', obj);\n    dispatch({\n      type: 'GET_RETURN_SUCCESS'\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const issuedReqDeletedByAdmin = postId => async dispatch => {\n  try {\n    await axios.post('/api/issues/issueReqDelete', {\n      postId\n    });\n    const response2 = await axios.get('/api/issues/allIssueRequest');\n    dispatch({\n      type: 'GET_All_ISSUES_SUCCESS',\n      payload: response2.data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const issueABookReturn = postId => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n    }\n  };\n  try {\n    await axios.post('/api/issues/issuedBookDelete', {\n      postId\n    });\n    const response2 = await axios.get(`/api/issues/issuedBook`, config);\n    dispatch({\n      type: \"USER_ISSUED_BOOK_SUCCESS\",\n      payload: response2.data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["axios","issueABook","book","dispatch","type","response","post","payload","data","error","singleissueABook","postId","getUserIssuedBook","getState","config","headers","Authorization","localStorage","getItem","get","getAllIssuedBook","filterallIssuedBook","searchKey","filterItem","filter","item","userName","toLowerCase","includes","getAllBookIssueReq","getAllBookReturnReq","issuedReq","bookId","response2","console","log","returnReqAction","obj","issuedReqDeletedByAdmin","issueABookReturn"],"sources":["C:/Users/peeyu/OneDrive/Desktop/-LIBRARY2-master/-LIBRARY2-master/client/src/actions/Issue_action.js"],"sourcesContent":["import axios from \"axios\"\n\nexport const issueABook = (book)=> async dispatch =>{\n    dispatch({\n        type:'ISSUE_REQUEST'\n    })\n  \n    try {\n        const response = await axios.post('/api/issues/issueRequest',book);\n        // const response2 = await axios.get('/api/books/allBook');\n     \n       \n        dispatch({\n           type:'ISSUE_REQUEST_SUCCESS',\n           payload:response.data\n       })\n      \n    } catch (error) {\n       dispatch({\n           type:'ISSUE_REQUEST_FAILED',\n           payload:error\n       })\n\n    }\n}\n\nexport const singleissueABook = (postId)=> async dispatch =>{\n    dispatch({\n        type:'SINGLE_ISSUE_REQUEST'\n    })\n    \n    try {\n        const response = await axios.post('/api/issues/singleIssuedBook',{postId});\n        dispatch({\n           type:'SINGLE_ISSUE_REQUEST_SUCCESS',\n           payload:response.data\n       })\n    } catch (error) {\n       dispatch({\n           type:'SINGLE_ISSUE_REQUEST_FAILED',\n           payload:error\n       })\n       \n    }\n}\n\nexport const getUserIssuedBook = () => async (dispatch, getState) => {\n    dispatch({\n        type: \"USER_ISSUED_BOOK\"\n    });\n    const config = {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n    };\n\n    try {\n        const response = await axios.get(`/api/issues/issuedBook`, config);\n        dispatch({\n            type: \"USER_ISSUED_BOOK_SUCCESS\",\n            payload: response.data,\n        });\n    } catch (error) {\n        dispatch({\n            type: \"USER_ISSUED_BOOK_FAILED\",\n            payload: error,\n        });\n    }\n\n};\n\nexport const getAllIssuedBook = () => async (dispatch) => {\n    dispatch({\n        type: \"ALL_ISSUED_BOOK\"\n    });\n   \n\n    try {\n        const response = await axios.get(`/api/issues/allIssuedBook`);\n      \n        dispatch({\n            type: \"ALL_ISSUED_BOOK_SUCCESS\",\n            payload: response.data,\n        });\n    } catch (error) {\n        dispatch({\n            type: \"ALL_ISSUED_BOOK_FAILED\",\n            payload: error,\n        });\n    }\n\n};\nexport const filterallIssuedBook = (searchKey)=> async dispatch =>{\n   \n    var filterItem ;\n    try {\n        const response = await axios.get('/api/issues/allIssuedBook');\n        \n        filterItem = response.data.filter(item => item.userName.toLowerCase().includes(searchKey.toLowerCase()));\n      \n        dispatch({\n            type: \"ALL_ISSUED_BOOK_SUCCESS\",\n           payload:filterItem\n       })\n    } catch (error) {\n       dispatch({\n        type: \"ALL_ISSUED_BOOK_FAILED\",\n           payload:error\n       })\n    }\n}\n\nexport const getAllBookIssueReq = ()=> async dispatch =>{\n    dispatch({\n        type:'GET_All_ISSUES_REQUEST'\n    })\n    try {\n        const response = await axios.get('/api/issues/allIssueRequest');\n        dispatch({\n           type:'GET_All_ISSUES_SUCCESS',\n           payload:response.data\n       })\n    } catch (error) {\n       dispatch({\n           type:'GET_All_ISSUES_FAILED',\n           payload:error\n       })\n    }\n}\n\nexport const getAllBookReturnReq = ()=> async dispatch =>{\n    dispatch({\n        type:'GET_All_RETURN_REQUEST'\n    })\n    try {\n        const response = await axios.get('/api/issues/allreturnedBook');\n        dispatch({\n           type:'GET_All_RETURN_SUCCESS',\n           payload:response.data\n       })\n    } catch (error) {\n       dispatch({\n           type:'GET_All_RETURN_FAILED',\n           payload:error\n       })\n    }\n}\n\nexport const issuedReq = (bookId,postId)=> async dispatch =>{\n   \n    try {\n         await axios.post('/api/issues/issuedReqAccept' , {bookId,postId})\n       \n        const response2 = await axios.get('/api/issues/allIssueRequest');\n        dispatch({\n           type:'GET_All_ISSUES_SUCCESS',\n           payload:response2.data\n       })\n      } catch (error) {\n        console.log(error);\n      }\n  \n}\n\n\nexport const returnReqAction = (obj)=> async dispatch =>{\n   \n    try {\n         await axios.post('/api/issues/returnReq' , obj)\n       \n       \n        dispatch({\n           type:'GET_RETURN_SUCCESS',\n           \n       })\n      } catch (error) {\n        console.log(error);\n      }\n  \n}\n\n\nexport const issuedReqDeletedByAdmin = (postId)=> async dispatch =>{\n     \n    \n    \n    try {\n       await axios.post('/api/issues/issueReqDelete' , {postId})\n       \n        const response2 = await axios.get('/api/issues/allIssueRequest');\n        dispatch({\n           type:'GET_All_ISSUES_SUCCESS',\n           payload:response2.data\n       })\n      } catch (error) {\n        console.log(error);\n      }\n  \n}\n\nexport const issueABookReturn = (postId)=> async dispatch =>{\n\n    const config = {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n    };\n \n    try {\n        await axios.post('/api/issues/issuedBookDelete',{postId});\n        const response2 = await axios.get(`/api/issues/issuedBook`, config);\n       \n        dispatch({\n            type: \"USER_ISSUED_BOOK_SUCCESS\",\n            payload: response2.data,\n        });\n      } catch (error) {\n        console.log(error);\n      }\n  \n    \n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}